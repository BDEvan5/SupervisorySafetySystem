---
title: "LearnWoCrash"
author: "Benjamin Evans"
date: "26/01/2022"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

data = read.csv("DataTable.csv")
library(ggplot2)
library(dplyr)
library(tidyr)
library(knitr)

```

# Kernel Safety Tests

Firstly, we run random tests to ensure that the kernels are safe and that they do work.

```{r}
kernel_gen = data %>%
  filter(eval_name=="KernelGen")%>%
  select(kernel_mode, map_name, SSS_avg_times)%>%
  pivot_wider(names_from = kernel_mode, values_from = SSS_avg_times)
  
kable(kernel_gen)
```




# Tests

# Comparision

## Performance Table



```{r}
kernel_gen = data %>%
  filter(eval_name=="Comparision"&vehicle=='Baseline')%>%
  select(agent_name, crashes,  Wo_avg_times, Wo_success_rate)
kable(kernel_gen)

kernel_gen = data %>%
  filter(eval_name=="Comparision"&vehicle=='KernelSSS')%>%
  select(agent_name, SSS_avg_times, SSS_success_rate, Wo_avg_times, Wo_success_rate)

kable(kernel_gen)
```


## Repeatability



```{r}
repeatability = data %>%
   filter(eval_name=="Comparision") %>%
   select(SSS_avg_times, vehicle)%>%
   # group_by(vehicle)%>%
   ggplot(aes(x=vehicle, y=SSS_avg_times, group=vehicle))+
   geom_boxplot()+
   geom_point()

repeatability = data %>%
   filter(eval_name=="Comparision") %>%
   select(Wo_avg_times, vehicle)%>%
   group_by(vehicle)%>%
   mutate(mean_time=mean(Wo_avg_times))%>%
   ggplot(aes(x=vehicle, y=Wo_avg_times, group=vehicle))+
   geom_boxplot()+
   geom_point()+
   geom_point(aes(y=mean_time), shape='x', size=10)
repeatability
```
 

## Rewards
```{r}
reward = data %>%
  filter(eval_name=="RewardSignals") %>%
  select(agent_name, r1, r2, rk, constant_reward, mag_reward, SSS_avg_times, SSS_success_rate, Wo_avg_times, Wo_success_rate)


kable(reward)
```

